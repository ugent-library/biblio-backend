{{ $canEditPublication := .User.CanEditPublication .D.Publication }}
<div class="card mb-6">
    <div class="card-header">
        <div class="bc-toolbar">
            <div class="bc-toolbar-left">
                <div class="bc-toolbar-title">Full text documents</div>
            </div>
        </div>
    </div>
    <div class="card-body p-0">
        {{if $canEditPublication}}
        <form class="p-6"
            hx-post="{{pathFor "upload_publication_file" "id" .D.Publication.ID}}"
            hx-encoding="multipart/form-data"
            hx-target="#publication-files"
            hx-trigger="change"
        >
            {{.CSRFTag}}

            <div class="c-file-upload">
                <input type="file" name="file">
                <div class="c-file-upload__content">
                    <p>Drag and drop or</p>
                    <button class="btn btn-outline-primary">Upload file</button>
                </div>
            </div>

            <small class="form-text text-muted my-3"><a href="https://onderzoektips.ugent.be/en/tips/00001670/#Uploadofafile" target="_blank">Which document format or version should I use?</a></small>
        </form>
        <hr>
        {{end}}

        <div id="publication-files">
            {{template "publication/files/_list" .}}
        </div>
    </div>

    <div id="publication-files-modal" class="modals"></div>
</div>
